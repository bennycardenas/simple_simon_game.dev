<html>
<head>
	<title>Hello, Simon</title>
<style type="text/css">

#b1 {
	background-color: red;
}
#b2 {
	background-color: blue;
}
#b3 {
	background-color: green;
}
#b4 {
	background-color:#ffff00; 
}
.button {
		height: 200px;
     	width: 200px;
     	font-size: 40;
     	opacity: .3;
}

</style>

</head>

<body>

<div class="container">
	<div id="row one">
		<button class="button" id="b1">1</button>
		<button class="button" id="b2">2</button>
	</div>
	<br>
	<div id="row two">
		<button class="button" id="b3">3</button>
		<button class="button" id="b4">4</button>
	</div>
</div>

<script type="text/javascript">

// attach event listener to each element
// randomly select a square
// listen for user input
// check if user selection matches random
// console.log (document.getElementsByClassName("button"))

var squares = document.getElementsByClassName("button");

var randomArray = []
console.log(randomArray)

var userSequence = []
console.log(userSequence)

var red = document.getElementById("b1");
var blue = document.getElementById("b2");
var green = document.getElementById("b3");
var yellow = document.getElementById("b4");

// start game according to Ryan O
// function start(){
// 	randomArray = [];
// }


function simonMove() {
	var random = Math.floor(Math.random() * 4);
	var randomSquare = squares[random];
	// console.log(randomSquare);
	
	randomArray.push(randomSquare);
	consecutiveArrayFlashing();
	return squares[random];
}

function consecutiveArrayFlashing() {
	
	var i=0;
	var interval = setInterval(function(){
		
		if (i>=randomArray.length){
			clearInterval(interval);	
		
		} else {

			flash(randomArray[i]);
			i++;
		}	
		}, 900);
	}

function comparison() {

		if (randomArray == userSequence) {
			simonMove()
		} else {

		}
}

// make simonMove flash
// 		use opacity as part of the automation
// function simonFlash() {
// }

function flash(element){
	console.log(element);
	
	element.style.opacity = "1";
	// console.log(this.target)

	var timeOut = setTimeout(function(){
		element.style.opacity = ".3";		
	}, 900);
}

var userInput = function(){
	var input = userSelection.value;
	return userSelection.push(input);
}

function userSelection(event){
	// console.log(event.target.id);
	userSequence.push(event.target.id);
	// flash();
	console.log(event);

	flash(event.target);
	
	return flash(event.target);
}

red.addEventListener('click', userSelection ,false);
blue.addEventListener('click', userSelection ,false);
green.addEventListener('click', userSelection ,false);
yellow.addEventListener('click', userSelection ,false);

// FUNCTION TO CALL
// simonMove()


// ----  TO IMPLEMENT AT END  ----

// if (userSequence == randomArray){
// 	alert('Congrats!')
// } else {
// 	alert('Oops! You ran out of luck...')
// }

// ----------- CODE/IDEAS REPO FOLLOWS ----------------

// var interval = setInerval(getSimonSequence, 900);
// function animateSquare() {
	
// 	var randomSquare = getSimonSequence();
		
// 	var timeOut = setTimeout(function(){
// 		randomSquare.style.opacity = ".3";		
// 	}, 900);

// 	// for (var i=0; i=getSimonSequence()+1; i++){
// 	// 	randomSquare[i];
// 	// }

// 	// loop here
// 	// pull IDs 
// }

// animateSquare();
// getSimonSequence();
// var confirmed = alert('Want to start?'){
// 	if (confirmed){
// 	animateSquare(); 		
// 	}
// }

// ALTERNATE BAD CODE FOR EVENT LISTENER
// var btnClickListener = function () {
// 	for (i=0; i < randomArray.length; i++) {
// 	document.getElementById("button").randomArray[0].push;
// }
// Button Up, Button Down

// function add SelectionToSimonSequence(selection){
// 	simon.sequence.push(selection)
// }
// function userSelection(event){
// 	// if user's selection 
// 	console.log(event.target.id)
// }

// var simonSequence = getSimonSequence()

</script>

</body>
</html>